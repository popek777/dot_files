#!/bin/bash

#
# some useful setttings/funcions for opera codebase development
#

export PATH=$PATH:$HOME/workspace/depot_tools

function operadev_32_ld_library_path()
{
  # export library paths for 32 bit apps
  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:\
/lib/i386-linux-gnu/:\
/usr/lib/i386-linux-gnu/:\
/lib/i686-linux-gnu/:\
/usr/lib/i686-linux-gnu/:\
$HOME/workspace/sysroots/wheezy-ia32/lib/i386-linux-gnu/:\
$HOME/workspace/sysroots/wheezy-ia32/usr/lib/i386-linux-gnu/

}

function operadev_rtags_rdm()
{
  RTAGS_BIN_DIR=$HOME/rtags/build/bin
  $RTAGS_BIN_DIR/rdm -L $HOME/.rdm-log &
}

function operadev_rtags_update_indexes()
{
  PROJECT_DIR=$HOME/workspace/work
  PROJECT_OUT_DIR=$PROJECT_DIR/chromium/src/out/Debug

  RTAGS_BIN_DIR=$HOME/rtags/build/bin

  cd $PROJECT_OUT_DIR
  ninja -t compdb cc > compile_commands.json

  $RTAGS_BIN_DIR/rc -J $PROJECT_OUT_DIR/compile_commands.json
}

